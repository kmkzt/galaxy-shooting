(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{58:function(e,t,r){e.exports=r.p+"assets/models/b88f6bba855f59f566a56ead8f38c43a.drc"},59:function(e,t,r){e.exports=r.p+"assets/models/4476f7096d19f2550321a490e81477d8.drc"},60:function(e,t,r){e.exports=r.p+"assets/models/62ef4657626e1e90f24114e650070a0b.drc"},61:function(e,t,r){e.exports=r.p+"assets/models/ed5155d11015e6a06d24ad8476e7cf39.drc"},65:function(e,t,r){"use strict";r.r(t);var o=r(0),n=r.n(o),a=r(26),i=r(27),s=function(e){i.Loader.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};s.prototype=Object.assign(Object.create(i.Loader.prototype),{constructor:s,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,r,o){var n=new i.FileLoader(this.manager);n.setPath(this.path),n.setResponseType("arraybuffer"),"use-credentials"===this.crossOrigin&&n.setWithCredentials(!0),n.load(e,e=>{var r={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,r).then(t).catch(o)},r,o)},decodeDracoFile:function(e,t,r,o){var n={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,n).then(t)},decodeGeometry:function(e,t){var r,o=this.workerNextTaskID++,n=e.byteLength;for(var a in t.attributeTypes){var i=t.attributeTypes[a];void 0!==i.BYTES_PER_ELEMENT&&(t.attributeTypes[a]=i.name)}var s=this._getWorker(o,n).then(n=>(r=n,new Promise((n,a)=>{r._callbacks[o]={resolve:n,reject:a},r.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(e=>this._createGeometry(e.geometry));return s.finally(()=>{r&&o&&this._releaseTask(r,o)}),s},_createGeometry:function(e){var t=new i.BufferGeometry;e.index&&t.setIndex(new i.BufferAttribute(e.index.array,1));for(var r=0;r<e.attributes.length;r++){var o=e.attributes[r],n=o.name,a=o.array,s=o.itemSize;t.setAttribute(n,new i.BufferAttribute(a,s))}return t},_loadLibrary:function(e,t){var r=new i.FileLoader(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),new Promise((t,o)=>{r.load(e,t,void 0,o)})},preload:function(){return this._initDecoder(),this},_initDecoder:function(){if(this.decoderPending)return this.decoderPending;var e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(t=>{var r=t[0];e||(this.decoderConfig.wasmBinary=t[1]);var o=s.DRACOWorker.toString(),n=["/* draco decoder */",r,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([n]))}),this.decoderPending},_getWorker:function(e,t){return this._initDecoder().then(()=>{var r;this.workerPool.length<this.workerLimit?((r=new Worker(this.workerSourceURL))._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},this.workerPool.push(r)):this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(r=this.workerPool[this.workerPool.length-1])._taskCosts[e]=t,r._taskLoad+=t,r})},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),s.DRACOWorker=function(){var e,t;function r(e,t,r,o,n,a){var i,s,c=a.num_components(),d=r.num_points()*c;switch(n){case Float32Array:i=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(r,a,i),s=new Float32Array(d);break;case Int8Array:i=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(r,a,i),s=new Int8Array(d);break;case Int16Array:i=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(r,a,i),s=new Int16Array(d);break;case Int32Array:i=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(r,a,i),s=new Int32Array(d);break;case Uint8Array:i=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(r,a,i),s=new Uint8Array(d);break;case Uint16Array:i=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(r,a,i),s=new Uint16Array(d);break;case Uint32Array:i=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(r,a,i),s=new Uint32Array(d);break;default:throw new Error("THREE.DRACOLoader: Unexpected attribute type.")}for(var u=0;u<d;u++)s[u]=i.GetValue(u);return e.destroy(i),{name:o,array:s,itemSize:c}}onmessage=function(o){var n=o.data;switch(n.type){case"init":e=n.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=n.buffer,i=n.taskConfig;t.then(e=>{var t=e.draco,o=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var c=function(e,t,o,n){var a,i,s=n.attributeIDs,c=n.attributeTypes,d=t.GetEncodedGeometryType(o);if(d===e.TRIANGULAR_MESH)a=new e.Mesh,i=t.DecodeBufferToMesh(o,a);else{if(d!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,i=t.DecodeBufferToPointCloud(o,a)}if(!i.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+i.error_msg());var u={index:null,attributes:[]};for(var l in s){var f,h,b=self[c[l]];if(n.useUniqueIDs)h=s[l],f=t.GetAttributeByUniqueId(a,h);else{if(-1===(h=t.GetAttributeId(a,e[s[l]])))continue;f=t.GetAttribute(a,h)}u.attributes.push(r(e,t,a,l,b,f))}if(d===e.TRIANGULAR_MESH){for(var y=a.num_faces(),m=new Uint32Array(3*y),p=new e.DracoInt32Array,w=0;w<y;++w){t.GetFaceFromMesh(a,w,p);for(var g=0;g<3;++g)m[3*w+g]=p.GetValue(g)}u.index={array:m,itemSize:1},e.destroy(p)}return e.destroy(a),u}(t,o,s,i),d=c.attributes.map(e=>e.array.buffer);c.index&&d.push(c.index.array.buffer),self.postMessage({type:"decode",id:n.id,geometry:c},d)}catch(e){console.error(e),self.postMessage({type:"error",id:n.id,error:e.message})}finally{t.destroy(s),t.destroy(o)}})}}},s.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},s.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},s.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},s.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};var c=r(25),d=r(29),u=r(36),l=function(e){var t=e.min,r=e.max;return t+Math.random()*(r-t)},f=r(30);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=function(e){e instanceof s&&e.setDecoderPath("./libs/draco/")},w=Object(o.memo)((function(e){var t=e.guid,r=e.geometry,i=(e.texture,e.position),s=e.rotation,f=e.scale,h=e.color,y=m(e,["guid","geometry","texture","position","rotation","scale","color"]),p=Object(o.useRef)(),w=Object(a.d)(),g=w.raycaster,A=w.camera,O=w.aspect,k=Object(c.b)();return Object(u.a)((function(){if(p.current){var e=g.intersectObject(p.current,!0).length>0,r=p.current.position.z>A.position.z;if(e||r){var o=A.near+5,n=l({min:.5,max:2}),a={x:n,y:n,z:n},c={x:l({min:-o*O/2,max:o*O/2}),y:l({min:-o/2,max:o/2}),z:i.z-A.far},u={x:s.x+.05*Math.PI,y:s.y+.05*Math.PI,z:s.z+.05*Math.PI};k(Object(d.c)(b({},y,{guid:t,scale:r?a:f,position:r?c:i,rotation:e?u:s})))}}})),n.a.createElement("mesh",{ref:p,position:[i.x,i.y,i.z],rotation:[s.x,s.y,s.z],scale:[f.x,f.y,f.z]},n.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},r)),n.a.createElement("meshStandardMaterial",{attach:"material",color:h||"hotpink",transparent:!0}))}),(function(e,t){return e.rotation.x===t.rotation.x&&e.rotation.y===t.rotation.y&&e.rotation.z===t.rotation.z&&e.position.x===t.position.x&&e.position.y===t.position.y&&e.position.z===t.position.z&&e.color===t.color}));t.default=function(e){var t=e.num,i=Object(a.d)(),u=i.camera,h=i.aspect,m=Object(c.c)((function(e){return e.load.meteolites})),g=Object(c.c)((function(e){return e.meteos})),A=Object(c.b)(),O=Object(a.c)(s,[r(58),r(59),r(60),r(61)],p),k=Object(o.useCallback)((function(){var e=Array(t).fill(null).reduce((function(e,t,r){var o=u.near+5,n=Math.floor(Math.random()*O.length),a=l({min:.5,max:2});return b({},e,y({},r,{guid:r,position:{x:l({min:-o*h/2,max:o*h/2}),y:l({min:-o/2,max:o/2}),z:l({min:u.far,max:2*u.far})},rotation:{x:0,y:0,z:0},scale:{x:a,y:a,z:a},pattern:n}))}),{});A(Object(d.a)(e))}),[h,u.far,u.near,A,O.length,t]);return Object(o.useLayoutEffect)((function(){O&&!m&&(O.map((function(e,t){})),k(),A(Object(f.a)({meteolites:!0})))}),[k,A,m,O]),n.a.createElement(n.a.Fragment,null,Object.values(g).map((function(e,t){return n.a.createElement(o.Suspense,{key:e.guid,fallback:null},n.a.createElement(w,Object.assign({geometry:O[e.pattern]},e)))})))}}}]);