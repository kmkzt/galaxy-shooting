(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{45:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t){return t.play.active&&!t.spaceShip.isClashed}},46:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(5),c=n(44),o=n(45);function r(t,e){var n=Object(i.c)(o.a);Object(c.b)((function(e,i){n&&t(e,i)}),e)}},49:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t,e){var n=e.position.x+e.scale.x/2,i=e.position.x-e.scale.x/2,o=e.position.y+e.scale.y/2,r=e.position.y-e.scale.y/2,a=e.position.z+e.scale.z/2,s=e.position.z-e.scale.z/2;return c(t,{x:n,y:o,z:a})||c(t,{x:i,y:o,z:a})||c(t,{x:n,y:r,z:a})||c(t,{x:i,y:r,z:a})||c(t,{x:n,y:o,z:s})||c(t,{x:n,y:r,z:s})||c(t,{x:i,y:o,z:s})||c(t,{x:i,y:r,z:s})},c=function(t,e){var n=e.x,i=e.y,c=e.z;return o(n,{point:t.position.x,range:t.scale.x})&&o(i,{point:t.position.y,range:t.scale.y})&&o(c,{point:t.position.z,range:t.scale.z})},o=function(t,e){var n=e.point,i=e.range;return t>n-i/2&&t<n+i/2}},70:function(t,e,n){"use strict";n.r(e);var i=n(0),c=n.n(i),o=n(44),r=n(5),a=n(46),s=n(43),u=n(16),l=n(49),f=n(23),b=n(45),p=n(21),O=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(i=Object.getOwnPropertySymbols(t);c<i.length;c++)e.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(t,i[c])&&(n[i[c]]=t[i[c]])}return n},y=new s.BoxBufferGeometry(.3,.3,10),j=new s.MeshBasicMaterial({color:new s.Color("lightgreen")}),d=function(t){var e=t.guid,n=t.position,i=(t.rotation,t.scale,Object(o.d)().camera),b=Object(r.c)((function(t){return t.spaceShip})),O=b.position,d=b.flightSpeed,v=Object(r.c)((function(t){return t.meteos})),g=Object(r.b)();return Object(a.a)((function(){if(O.z-i.far>n.z)g(Object(f.b)(e));else{var t=Object.values(v).find((function(t){return Object(l.a)(t,{position:n,rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:10+d}})}));if(t)return g(Object(u.c)(Object.assign(Object.assign({},t),{color:new s.Color("red")}))),setTimeout((function(){g(Object(p.a)(Math.floor(100*t.scale.x))),g(Object(u.b)(t.guid))}),100),void g(Object(f.b)(e));var c=Object.assign(Object.assign({},n),{z:n.z-d-5});g(Object(f.c)({guid:e,position:c}))}})),c.a.createElement("mesh",{position:[n.x,n.y,n.z],geometry:y,material:j})};e.default=function(){var t=Object(r.c)((function(t){return t.spaceShip})).position,e=Object(r.c)(b.a),n=Object(r.b)(),o=Object(i.useCallback)((function(){n(Object(f.a)({position:t,scale:{x:.3,y:.3,z:10}}))}),[n,t]);Object(i.useLayoutEffect)((function(){if(e)return window.addEventListener("click",o),function(){window.removeEventListener("click",o)}}),[o,e]);var a=Object(r.c)((function(t){return t.lasers}));return c.a.createElement(c.a.Fragment,null,Object.values(a).map((function(t){var e=t.guid,n=O(t,["guid"]);return c.a.createElement(d,Object.assign({key:e,guid:e},n))})))}}}]);